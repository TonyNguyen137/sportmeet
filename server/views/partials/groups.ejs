<div class="grid w-full grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
	<% groups.forEach((group) => { %>
	<div
		class="from-secondary to-primary rounded-default flex h-full cursor-pointer flex-col border bg-linear-to-br p-5 shadow-sm transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-md hover:ring-2 hover:ring-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-300"
		onclick="window.location.href = '/groups/<%= group.id %>'"
		onkeydown="
			if (event.key === 'Enter' || event.key === ' ') {
				event.preventDefault();
				window.location.href = '/groups/<%= group.id %>';
			}
		"
		role="link"
		tabindex="0"
		style="border-color: <%= group.color %>33">
		<div class="flex items-start justify-between gap-3">
			<div class="min-w-0">
				<div class="mb-1 flex items-center gap-2">
					<span
						class="inline-block h-2.5 w-2.5 rounded-full"
						style="background-color: <%= group.color %>"></span>
					<p class="text-dark truncate text-base font-bold"><%= group.name %></p>
				</div>
				<p class="text-xsm text-body mt-1">Mitglieder: <%= group.member_count %></p>
			</div>
			<span
				class="bg-light text-accent-dark-blue text-xsm inline-flex rounded-full px-3 py-1 font-semibold uppercase">
				<%= group.role %>
			</span>
		</div>

		<div class="mt-4 space-y-3">
			<p class="text-accent-dark-blue text-xsm font-semibold">Gruppe Ã¶ffnen -></p>
			<div class="rounded-md border border-blue-100 bg-white/80 p-3">
				<p class="text-xsm text-body font-semibold">Einladungscode</p>
				<p class="text-dark mt-1 font-mono text-sm tracking-wide">
					<%= group.invite_code %>
				</p>
			</div>

			<div class="rounded-md border border-blue-100 bg-white/80 p-3">
				<p class="text-xsm text-body font-semibold">Einladungslink</p>
				<p class="text-dark text-xsm mt-1 leading-relaxed break-all">
					<%= group.invite_link %>
				</p>
			</div>
		</div>

		<div class="mt-4 flex gap-2">
			<button
				type="button"
				onclick="
					event.stopPropagation();
					navigator.clipboard.writeText('<%= group.invite_code %>');
				"
				class="text-accent-blue hover:bg-light text-xsm flex flex-1 cursor-pointer items-center justify-center rounded-md border border-blue-200 px-3 py-2 font-semibold transition-colors">
				Code kopieren
			</button>
			<button
				type="button"
				onclick="
					event.stopPropagation();
					navigator.clipboard.writeText('<%= group.invite_link %>');
				"
				class="bg-accent-blue hover:bg-accent-dark-blue text-xsm flex flex-1 cursor-pointer items-center justify-center rounded-md px-3 py-2 font-semibold text-white transition-colors">
				Link kopieren
			</button>
		</div>
	</div>
	<% }) %>
</div>
